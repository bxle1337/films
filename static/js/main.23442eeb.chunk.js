(this.webpackJsonpfilms=this.webpackJsonpfilms||[]).push([[0],{124:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(23),i=n.n(r),s=n(12),l=n.n(s),o=n(13),j=n.n(o),d=n(20),b=n(14),f=n(3),u=(n(122),n(133)),h=n(134),x=n(1),p=function(e){var t=e.id,n=(e.go,e.ButtonStart),c=e.fetchedUser;return Object(x.jsxs)(f.m,{id:t,children:[Object(x.jsx)(f.n,{children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),c&&Object(x.jsxs)(f.j,{children:[Object(x.jsxs)(f.p,{icon:Object(x.jsx)("img",{src:"https://i.imgur.com/uoZzj4g.png",style:{width:"50%"}}),children:["\u041f\u0440\u0438\u0432\u0435\u0442, ",c.first_name,"! \u0425\u043e\u0447\u0435\u0448\u044c \u0431\u044b\u0441\u0442\u0440\u043e \u043d\u0430\u0439\u0442\u0438 \u043d\u0443\u0436\u043d\u044b\u0439 \u0444\u0438\u043b\u044c\u043c, \u043d\u043e \u043d\u0435 \u0445\u043e\u0447\u0435\u0448\u044c \u0442\u0440\u0430\u0442\u0438\u0442\u044c \u0432\u0440\u0435\u043c\u044f \u043d\u0430 \u043f\u043e\u0438\u0441\u043a? ",Object(x.jsx)("br",{}),"\u041f\u043e\u043b\u0443\u0447\u0430\u0439 \u0440\u0430\u043d\u0434\u043e\u043c\u043d\u044b\u0439 \u0444\u0438\u043b\u044c\u043c \u043f\u043e \u043d\u0430\u0436\u0430\u0442\u0438\u044e \u043e\u0434\u043d\u043e\u0439 \u043a\u043d\u043e\u043f\u043a\u0438. \u0422\u044b \u043c\u043e\u0436\u0435\u0448\u044c \u043e\u0442\u043b\u043e\u0436\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u043c \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u0442\u0441\u044f \u0432 \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438 \u0438 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0435\u0433\u043e \u043f\u043e\u0437\u0436\u0435."]}),Object(x.jsx)(f.h,{children:n})]})]})},O=n(125),m=n(126),y=n(127),g=n(128),w=n(129),v=n(130),k=n(131),S=n(132),B=function(e){var t=e.id,n=(e.go,e.setPopout),c=e.TitleFilm,a=(e.SubnavigationButton,e.SubnavigationBar,e.description),r=e.Films,i=e.ButtonNext;e.fetchedUser;return Object(x.jsxs)(f.m,{id:t,children:[Object(x.jsx)(f.n,{children:"\u0421\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0439 \u0444\u0438\u043b\u044c\u043c"}),r&&Object(x.jsxs)(f.h,{style:{float:"center",display:"inline-block"},children:[Object(x.jsx)("img",{style:{width:"40%",float:"left",display:"inline-block",borderRadius:10},src:r.data.posterUrl}),Object(x.jsx)(f.w,{className:"Text",style:{float:"left",width:"50%",marginLeft:16},level:"2",weight:"bold",children:c}),Object(x.jsx)(f.l,{style:{float:"left",width:"45%",whiteSpace:"nowrap",overflow:"hidden"},before:Object(x.jsx)(O.a,{fill:"#fc853a"}),textWrap:"full",textLevel:"primary",children:r.data.countries[0].country}),Object(x.jsxs)(f.l,{style:{float:"left",width:"50%"},before:Object(x.jsx)(m.a,{fill:"#fc853a"}),textWrap:"full",textLevel:"primary",children:["\u0413\u043e\u0434: ",r.data.year]}),Object(x.jsxs)(f.l,{style:{float:"left",width:"50%"},before:Object(x.jsx)(y.a,{fill:"#fc853a"}),textWrap:"full",textLevel:"primary",children:["\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c: ",r.data.filmLength]}),Object(x.jsxs)(f.l,{style:{float:"left",width:"50%"},before:Object(x.jsx)(g.a,{fill:"#fc853a"}),textWrap:"full",textLevel:"primary",children:["\u0416\u0430\u043d\u0440: ",r.data.genres[0].genre]}),Object(x.jsxs)(f.l,{style:{float:"left",width:"50%"},before:Object(x.jsx)(w.a,{}),textWrap:"full",textLevel:"primary",children:["\u0420\u0435\u0439\u0442\u0438\u043d\u0433: ",r.rating.rating,"/10"]})]}),r&&Object(x.jsxs)("div",{children:[Object(x.jsx)(f.s,{style:{marginTop:8}}),Object(x.jsx)(f.t,{before:Object(x.jsx)(v.a,{fill:"#fc853a"}),onClick:function(){l.a.send("VKWebAppCopyText",{text:r.data.nameRu}),n(Object(x.jsx)(f.u,{before:Object(x.jsx)(v.a,{fill:"#fc853a"}),onClose:function(){return n(null)},duration:1e3,children:"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e"})),l.a.send("VKWebAppTapticNotificationOccurred",{type:"success"})},children:"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(x.jsx)(f.t,{style:{marginTop:-10},before:Object(x.jsx)(k.a,{fill:"#fc853a"}),onClick:function(){function e(){return(e=Object(d.a)(j.a.mark((function e(){var t,c,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return new URLSearchParams(window.location.search),t=btoa(window.location.search),e.next=4,fetch("https://h154851.srv11.test-hf.su/vkapi/kino.php?action=save&key="+t+"&id="+r.data.filmId);case 4:return c=e.sent,e.next=7,c.json();case 7:a=e.sent,n(Object(x.jsx)(f.u,{before:Object(x.jsx)(S.a,{fill:"#fc853a"}),onClose:function(){return n(null)},duration:1e3,children:a.text})),l.a.send("VKWebAppTapticNotificationOccurred",{type:"success"});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},children:"\u0412 \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438"}),Object(x.jsx)(f.s,{style:{marginTop:0}})]}),r&&Object(x.jsx)(f.j,{header:Object(x.jsxs)(f.k,{mode:"secondary",children:['\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 "',r.data.nameRu,'"']}),children:Object(x.jsx)(f.h,{style:{marginBottom:"25%"},children:Object(x.jsxs)(f.v,{weight:"regular",children:[a,Object(x.jsx)("br",{}),Object(x.jsx)("br",{})]})})}),Object(x.jsx)(f.i,{vertical:"bottom",children:Object(x.jsx)(f.h,{children:i})})]})},W=function(e){var t=e.id,n=e.go,c=e.setPopout,a=e.TitleFilmByid,r=(e.SubnavigationButton,e.SubnavigationBar,e.activeWindow,e.descriptionByid),i=e.FilmsByid;e.ButtonNext,e.fetchedUser;return Object(x.jsxs)(f.m,{id:t,children:[Object(x.jsx)(f.n,{left:Object(x.jsx)(f.o,{"data-to":"FavoritesPanel",onClick:n}),children:"\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0438"}),i&&Object(x.jsxs)(f.h,{style:{float:"center",display:"inline-block"},children:[Object(x.jsx)("img",{style:{width:"40%",float:"left",display:"inline-block",borderRadius:10},src:i.data.posterUrl}),Object(x.jsx)(f.w,{className:"Text",style:{float:"left",width:"50%",marginLeft:16},level:"2",weight:"bold",children:a}),Object(x.jsx)(f.l,{style:{float:"left",width:"45%",whiteSpace:"nowrap",overflow:"hidden"},before:Object(x.jsx)(O.a,{fill:"#fc853a"}),textWrap:"full",textLevel:"primary",children:i.data.countries[0].country}),Object(x.jsxs)(f.l,{style:{float:"left",width:"50%"},before:Object(x.jsx)(m.a,{fill:"#fc853a"}),textWrap:"full",textLevel:"primary",children:["\u0413\u043e\u0434: ",i.data.year]}),Object(x.jsxs)(f.l,{style:{float:"left",width:"50%"},before:Object(x.jsx)(y.a,{fill:"#fc853a"}),textWrap:"full",textLevel:"primary",children:["\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c: ",i.data.filmLength]}),Object(x.jsxs)(f.l,{style:{float:"left",width:"50%"},before:Object(x.jsx)(g.a,{fill:"#fc853a"}),textWrap:"full",textLevel:"primary",children:["\u0416\u0430\u043d\u0440: ",i.data.genres[0].genre]}),Object(x.jsxs)(f.l,{style:{float:"left",width:"50%"},before:Object(x.jsx)(w.a,{}),textWrap:"full",textLevel:"primary",children:["\u0420\u0435\u0439\u0442\u0438\u043d\u0433: ",i.rating.rating,"/10"]})]}),i&&Object(x.jsxs)("div",{children:[Object(x.jsx)(f.s,{style:{marginTop:8}}),Object(x.jsx)(f.t,{before:Object(x.jsx)(v.a,{fill:"#fc853a"}),onClick:function(){l.a.send("VKWebAppCopyText",{text:i.data.nameRu}),c(Object(x.jsx)(f.u,{before:Object(x.jsx)(v.a,{fill:"#fc853a"}),onClose:function(){return c(null)},duration:1e3,children:"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e"})),l.a.send("VKWebAppTapticNotificationOccurred",{type:"success"})},children:"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(x.jsx)(f.t,{id:i.data.idfilm,style:{marginTop:-10},before:Object(x.jsx)(k.a,{fill:"#fc853a"}),onClick:function(){function e(){return(e=Object(d.a)(j.a.mark((function e(){var t,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return new URLSearchParams(window.location.search),t=btoa(window.location.search),e.next=4,fetch("https://h154851.srv11.test-hf.su/vkapi/kino.php?action=delete&key="+t+"&id="+i.data.filmId);case 4:return n=e.sent,e.next=7,n.json();case 7:a=e.sent,c(Object(x.jsx)(f.u,{before:Object(x.jsx)(S.a,{fill:"#fc853a"}),onClose:function(){return c(null)},duration:1e3,children:a.text})),l.a.send("VKWebAppTapticNotificationOccurred",{type:"error"});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u0437\u0430\u043a\u043b\u0430\u0434\u043e\u043a"}),Object(x.jsx)(f.s,{style:{marginTop:0}})]}),i&&Object(x.jsx)(f.j,{header:Object(x.jsxs)(f.k,{mode:"secondary",children:['\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 "',i.data.nameRu,'"']}),children:Object(x.jsx)(f.h,{style:{marginBottom:"25%"},children:Object(x.jsxs)(f.v,{weight:"regular",children:[r,Object(x.jsx)("br",{}),Object(x.jsx)("br",{})]})})})]})},L=function(e){var t=e.id,n=e.go,c=(e.setPopout,e.Favorites),a=e.activeWindow;e.fetchedUser;return Object(x.jsxs)(f.m,{id:t,children:[Object(x.jsx)(f.n,{left:Object(x.jsx)(f.o,{"data-to":a,onClick:n}),children:"\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0438"}),c]})},T=function(){var e=Object(c.useState)("home"),t=Object(b.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)("home"),s=Object(b.a)(i,2),o=s[0],O=s[1],m=Object(c.useState)(null),y=Object(b.a)(m,2),g=y[0],w=y[1],v=Object(c.useState)(null),k=Object(b.a)(v,2),S=k[0],T=k[1],C=Object(c.useState)(null),F=Object(b.a)(C,2),P=F[0],R=F[1],U=Object(c.useState)(Object(x.jsx)(f.r,{size:"large"})),N=Object(b.a)(U,2),I=N[0],A=N[1],K=Object(c.useState)(null),V=Object(b.a)(K,2),z=V[0],E=V[1],J=Object(c.useState)(null),Z=Object(b.a)(J,2),_=Z[0],q=Z[1],G=Object(c.useState)(null),D=Object(b.a)(G,2),H=D[0],M=D[1],Q=Object(c.useState)(null),X=Object(b.a)(Q,2),Y=X[0],$=X[1],ee=Object(c.useState)(null),te=Object(b.a)(ee,2),ne=te[0],ce=te[1],ae=Object(c.useState)(null),re=Object(b.a)(ae,2),ie=re[0],se=re[1],le=Object(c.useState)(null),oe=Object(b.a)(le,2),je=oe[0],de=oe[1];Object(c.useEffect)((function(){var e=document.createAttribute("scheme");function t(){return(t=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.send("VKWebAppGetUserInfo");case 2:t=e.sent,w(t),A(null),q(Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(f.f,{style:{marginBottom:6},children:Object(x.jsx)(f.g,{style:{color:"#fc853a"},after:Object(x.jsx)(u.a,{fill:"#fc853a"}),centered:!0,onClick:function(){r("FavoritesPanel")},children:"\u041c\u043e\u0438 \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438"})}),Object(x.jsx)(f.f,{children:Object(x.jsx)(f.g,{style:{color:"#fc853a"},id:"button",after:Object(x.jsx)(h.a,{fill:"#fc853a"}),centered:!0,onClick:function(){n()},children:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u043c"})})]})),E(Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(f.f,{style:{marginBottom:6},children:Object(x.jsx)(f.g,{style:{color:"#fc853a"},after:Object(x.jsx)(u.a,{fill:"#fc853a"}),centered:!0,onClick:function(){r("FavoritesPanel")},children:"\u041c\u043e\u0438 \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438"})}),Object(x.jsx)(f.f,{children:Object(x.jsx)(f.g,{style:{color:"#fc853a"},id:"button",after:Object(x.jsx)(h.a,{fill:"#fc853a"}),centered:!0,onClick:function(){n()},children:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0444\u0438\u043b\u044c\u043c"})})]}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){return c.apply(this,arguments)}function c(){return(c=Object(d.a)(j.a.mark((function e(){var t,c,i,s,l,o,d,b,u,h,p;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("button").style.display="none",A(Object(x.jsx)(f.r,{size:"large"})),new URLSearchParams(window.location.search),t=btoa(window.location.search),e.next=6,fetch("https://h154851.srv11.test-hf.su/vkapi/kino.php?action=getfilm&key="+t);case 6:return c=e.sent,e.next=9,c.json();case 9:return i=e.sent,e.next=12,i.error;case 12:if(e.t0=e.sent,"error"!==e.t0){e.next=17;break}n(),e.next=32;break;case 17:if(s=function(){var e=b.replace("...",u);M(e)},l=i.data.nameRu,ce(l),l.length>20&&(l=l.substr(0,20),ce(l+="...")),o=i.data.description,d=0,null!=i.data.description&&(d=o.split(" ")),b=i.data.description,M(b),d.length>25){for(b="",u="",h=0;h<25;h++)b=b+" "+d[h];for(p=25;p<d.length;p++)u=u+" "+d[p];b+="...",M(Object(x.jsxs)(a.a.Fragment,{children:[b,Object(x.jsx)("br",{}),Object(x.jsx)(f.d,{style:{marginLeft:-16,color:"#fc853a"},onClick:function(){s()},mode:"tertiary",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e..."}),Object(x.jsx)("br",{}),Object(x.jsx)(f.j,{})]}))}T(i),r("persik"),O("persik"),setTimeout(A(null),1500),document.getElementById("button").style.display="";case 32:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return s.apply(this,arguments)}function s(){return(s=Object(d.a)(j.a.mark((function e(){var t,n,c,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return new URLSearchParams(window.location.search),t=btoa(window.location.search),e.next=4,fetch("https://h154851.srv11.test-hf.su/vkapi/kino.php?action=getfavorite&key="+t);case 4:return n=e.sent,e.next=7,n.json();case 7:(c=e.sent).error?de(Object(x.jsx)(f.p,{icon:Object(x.jsx)("img",{src:"https://i.imgur.com/uoZzj4g.png",style:{width:"50%"}}),children:"\u0423\u043f\u0441, \u043f\u043e\u0445\u043e\u0436\u0435 \u0443 \u0432\u0430\u0441 \u0435\u0448\u0435 \u043d\u0435\u0442 \u0444\u0438\u043b\u044c\u043c\u043e\u0432 \u0432 \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430\u0445."})):(a=o(c),de(a));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(e){return e.map((function(e){return Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(f.q,{id:e[0].idfilm,onClick:function(){function t(){return(t=Object(d.a)(j.a.mark((function e(t){var n,c,i,s,l,o,d,b,u,h,p;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p=function(){var e=d.replace("...",b);$(e)},new URLSearchParams(window.location.search),n=btoa(window.location.search),e.next=5,fetch("https://h154851.srv11.test-hf.su/vkapi/kino.php?action=getbyid&key="+n+"&id="+t);case 5:return c=e.sent,e.next=8,c.json();case 8:if(i=e.sent,s=i.data.nameRu,se(s),s.length>20&&(s=s.substr(0,20),se(s+="...")),l=i.data.description,o=0,null!=i.data.description&&(o=l.split(" ")),d=i.data.description,M(d),o.length>25){for(d="",b="",u=0;u<25;u++)d=d+" "+o[u];for(h=25;h<o.length;h++)b=b+" "+o[h];d+="...",$(Object(x.jsxs)(a.a.Fragment,{children:[d,Object(x.jsx)("br",{}),Object(x.jsx)(f.d,{style:{marginLeft:-16,color:"#fc853a"},onClick:function(){p()},mode:"tertiary",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e..."}),Object(x.jsx)("br",{}),Object(x.jsx)(f.j,{})]}))}R(i),r("byid");case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){t.apply(this,arguments)}(e[0].idfilm)},multiline:!0,before:Object(x.jsx)(f.c,{size:72,mode:"image",style:{backgroundImage:"url("+e[0].photo+")",backgroundSize:72}}),caption:e[0].time,text:Object(x.jsxs)(f.e,{level:"3",style:{color:"#fc853a"},weight:"regular",children:["\u0420\u0435\u0439\u0442\u0438\u043d\u0433: ",e[0].rating]}),children:e[0].name}),Object(x.jsx)(f.s,{style:{marginTop:8}})]})}))}e.value="space_gray",document.body.attributes.setNamedItem(e),function(){t.apply(this,arguments)}(),i(),setInterval((function(){i()}),15e3)}),[]);var be=function(e){r(e.currentTarget.dataset.to)};return Object(x.jsx)(f.a,{children:Object(x.jsx)(f.b,{children:Object(x.jsxs)(f.x,{activePanel:n,popout:I,children:[Object(x.jsx)(p,{id:"home",ButtonStart:_,fetchedUser:g,go:be}),Object(x.jsx)(B,{id:"persik",setPopout:A,TitleFilm:ne,description:H,Films:S,ButtonNext:z,go:be}),Object(x.jsx)(W,{id:"byid",activeWindow:o,setPopout:A,TitleFilmByid:ie,descriptionByid:Y,FilmsByid:P,ButtonNext:z,go:be}),Object(x.jsx)(L,{id:"FavoritesPanel",activeWindow:o,Favorites:je,setPopout:A,go:be})]})})})};l.a.send("VKWebAppInit"),i.a.render(Object(x.jsx)(T,{}),document.getElementById("root"))}},[[124,1,2]]]);
//# sourceMappingURL=main.23442eeb.chunk.js.map